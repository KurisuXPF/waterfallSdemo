<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>商城滚动条导航栏同步显示</title>
    <script src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
    <link rel="stylesheet" href="css/demo0327_1.css" type="text/css">
</head>
<body>
<div id="menu">
    <ul>
        <li><a href="#item1" class="current">1F 男装</a></li>
        <li><a href="#item2">2F 女装</a></li>
        <li><a href="#item3">3F 美妆</a></li>
        <li><a href="#item4">4F 数码</a></li>
        <li><a href="#item5">5F 母婴</a></li>
    </ul>
</div>
<div id="content">
    <h1>EX购物网</h1>
    <div id="item1" class="item">
        <h2>1F 男装</h2>
        <ul>
            <li><a href="##"><img src="img/1F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/1F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/1F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/1F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/1F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/1F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/1F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/1F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/1F.jpg" alt=""></a></li>
        </ul>
    </div>
    <div id="item2" class="item">
        <h2>1F 男装</h2>
        <ul>
            <li><a href="##"><img src="img/2F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/2F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/2F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/2F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/2F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/2F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/2F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/2F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/2F.jpg" alt=""></a></li>
        </ul>
    </div>
    <div id="item3" class="item">
        <h2>1F 男装</h2>
        <ul>
            <li><a href="##"><img src="img/3F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/3F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/3F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/3F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/3F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/3F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/3F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/3F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/3F.jpg" alt=""></a></li>
        </ul>
    </div>
    <div id="item4" class="item">
        <h2>1F 男装</h2>
        <ul>
            <li><a href="##"><img src="img/4F.png" alt=""></a></li>
            <li><a href="##"><img src="img/4F.png" alt=""></a></li>
            <li><a href="##"><img src="img/4F.png" alt=""></a></li>
            <li><a href="##"><img src="img/4F.png" alt=""></a></li>
            <li><a href="##"><img src="img/4F.png" alt=""></a></li>
            <li><a href="##"><img src="img/4F.png" alt=""></a></li>
            <li><a href="##"><img src="img/4F.png" alt=""></a></li>
            <li><a href="##"><img src="img/4F.png" alt=""></a></li>
            <li><a href="##"><img src="img/4F.png" alt=""></a></li>
        </ul>
    </div>
    <div id="item5" class="item">
        <h2>1F 男装</h2>
        <ul>
            <li><a href="##"><img src="img/5F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/5F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/5F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/5F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/5F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/5F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/5F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/5F.jpg" alt=""></a></li>
            <li><a href="##"><img src="img/5F.jpg" alt=""></a></li>
        </ul>
    </div>
</div>

<script type="text/javascript">
   function getByClassName(obj,cls) {
       var elements=obj.getElementsByTagName('*');
       var result=[];
       for(var i=0;i<elements.length;i++){
           if(elements[i].className===cls){
               result.push(elements[i]);
           }
       }
       return result;
   }
   function hasClass(obj,cls) {
       return obj.className.match(new RegExp("(\\s|^)"+cls+"(\\s|$)"));
   }
   function removeClass(obj,cls) {
       if(hasClass(obj,cls)){
            var reg=new RegExp("(\\s|^)"+cls+"(\\s|$)");
            obj.className=obj.className.replace(reg,'');
       }
   }
   function addClass(obj,cls) {
       if(!hasClass(obj,cls)){
           obj.className +=''+cls;
       }
   }
    window.onload=function () {
        window.onscroll=function () {
            var top = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop;
            var menus=document.getElementById('menu').getElementsByTagName('a');
            var items=getByClassName(document.getElementById('content'),'item');
            var currentId='';
            for(var i=0;i<items.length;i++){
                var _item=items[i];
                var _itemTop=_item.offsetTop;
                console.log(_itemTop);
                if(top>_itemTop-200){
                    currentId=_item.id;
                }else{
                    break;
                }
            }
            if(currentId){
                //正确的menu下的a元素class赋值
                for(var j=0;j<menus.length;j++){
                    var _menu=menus[j];
                    var _href=_menu.href.split('#');
                    if(_href[_href.length -1]!=currentId){
                        removeClass(_menu,'current');
                    }else{
                        addClass(_menu,'current');
                    }
                }
            }
        }
    }
</script>
</body>
</html>